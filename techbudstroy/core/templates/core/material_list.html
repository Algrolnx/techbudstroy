{% extends 'core/base.html' %}
{% block title %}Склад - ТехБуд-Строй{% endblock %}
{% block header %}Склад матеріалів{% endblock %}
{% block content %}
<div class="card card-custom p-3">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="mb-0">Залишки на складі</h5>
        <a href="/admin/core/material/add/" class="btn btn-sm btn-warning text-white">+ Додати</a>
    </div>
    <table class="table table-hover table-sm">
        <thead>
            <tr>
                <th>Назва</th>
                <th>Одиниця</th>
                <th>Ціна (грн)</th>
                <th>Залишок</th>
                <th>Статус</th>
            </tr>
        </thead>
        <tbody>
            {% for material in materials %}
            <tr class="{% if material.stock_quantity < 10 %}table-danger{% endif %}">
                <td><strong>{{ material.name }}</strong></td>
                <td>{{ material.unit }}</td>
                <td>{{ material.price_per_unit }}</td>
                <td>{{ material.stock_quantity }}</td>
                <td>
                    {% if material.stock_quantity < 10 %} <span class="badge bg-danger">Дефіцит</span>
                        {% else %}
                        <span class="badge bg-success">В нормі</span>
                        {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="5" class="text-center text-muted py-3">Склад порожній.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}